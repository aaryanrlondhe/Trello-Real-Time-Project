{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect, useCallback } from 'react';\nimport apiService from '../services/apiService';\nexport const useBoard = boardId => {\n  _s();\n  const [board, setBoard] = useState(null);\n  const [lists, setLists] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const fetchBoard = useCallback(async () => {\n    if (!boardId) return;\n    setLoading(true);\n    setError(null);\n    try {\n      const [boardResponse, listsResponse] = await Promise.all([apiService.getBoard(boardId), apiService.getBoardLists(boardId)]);\n      const boardData = boardResponse.data || boardResponse;\n      const listsData = listsResponse.data || listsResponse;\n      setBoard(boardData);\n      setLists(listsData || []);\n    } catch (err) {\n      console.error('Error fetching board:', err);\n      setError(err.message || 'Failed to load board');\n    } finally {\n      setLoading(false);\n    }\n  }, [boardId]);\n  const createBoard = useCallback(async boardData => {\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await apiService.createBoard(boardData);\n      const createdBoard = response.data || response; // Handle both response formats\n      setBoard(createdBoard);\n      return createdBoard;\n    } catch (err) {\n      console.error('Error creating board:', err);\n      setError(err.message || 'Failed to create board');\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n  const refreshBoard = useCallback(() => {\n    fetchBoard();\n  }, [fetchBoard]);\n  useEffect(() => {\n    fetchBoard();\n  }, [fetchBoard]);\n  return {\n    board,\n    lists,\n    loading,\n    error,\n    createBoard,\n    refreshBoard,\n    setBoard,\n    setLists\n  };\n};\n_s(useBoard, \"M6LdBRbd0znz3YAkyM9YRqm9pXA=\");","map":{"version":3,"names":["useState","useEffect","useCallback","apiService","useBoard","boardId","_s","board","setBoard","lists","setLists","loading","setLoading","error","setError","fetchBoard","boardResponse","listsResponse","Promise","all","getBoard","getBoardLists","boardData","data","listsData","err","console","message","createBoard","response","createdBoard","refreshBoard"],"sources":["/Users/shrushtiparkar/Documents/Trello Real-time WebSockets + API Frontend Assignment/frontend/src/hooks/useBoard.js"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\nimport apiService from '../services/apiService';\n\nexport const useBoard = (boardId) => {\n  const [board, setBoard] = useState(null);\n  const [lists, setLists] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const fetchBoard = useCallback(async () => {\n    if (!boardId) return;\n\n    setLoading(true);\n    setError(null);\n\n    try {\n      const [boardResponse, listsResponse] = await Promise.all([\n        apiService.getBoard(boardId),\n        apiService.getBoardLists(boardId)\n      ]);\n\n      const boardData = boardResponse.data || boardResponse;\n      const listsData = listsResponse.data || listsResponse;\n      \n      setBoard(boardData);\n      setLists(listsData || []);\n    } catch (err) {\n      console.error('Error fetching board:', err);\n      setError(err.message || 'Failed to load board');\n    } finally {\n      setLoading(false);\n    }\n  }, [boardId]);\n\n  const createBoard = useCallback(async (boardData) => {\n    setLoading(true);\n    setError(null);\n\n    try {\n      const response = await apiService.createBoard(boardData);\n      const createdBoard = response.data || response; // Handle both response formats\n      setBoard(createdBoard);\n      return createdBoard;\n    } catch (err) {\n      console.error('Error creating board:', err);\n      setError(err.message || 'Failed to create board');\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  const refreshBoard = useCallback(() => {\n    fetchBoard();\n  }, [fetchBoard]);\n\n  useEffect(() => {\n    fetchBoard();\n  }, [fetchBoard]);\n\n  return {\n    board,\n    lists,\n    loading,\n    error,\n    createBoard,\n    refreshBoard,\n    setBoard,\n    setLists\n  };\n};"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AACxD,OAAOC,UAAU,MAAM,wBAAwB;AAE/C,OAAO,MAAMC,QAAQ,GAAIC,OAAO,IAAK;EAAAC,EAAA;EACnC,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACS,KAAK,EAAEC,QAAQ,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACW,OAAO,EAAEC,UAAU,CAAC,GAAGZ,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACa,KAAK,EAAEC,QAAQ,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EAExC,MAAMe,UAAU,GAAGb,WAAW,CAAC,YAAY;IACzC,IAAI,CAACG,OAAO,EAAE;IAEdO,UAAU,CAAC,IAAI,CAAC;IAChBE,QAAQ,CAAC,IAAI,CAAC;IAEd,IAAI;MACF,MAAM,CAACE,aAAa,EAAEC,aAAa,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CACvDhB,UAAU,CAACiB,QAAQ,CAACf,OAAO,CAAC,EAC5BF,UAAU,CAACkB,aAAa,CAAChB,OAAO,CAAC,CAClC,CAAC;MAEF,MAAMiB,SAAS,GAAGN,aAAa,CAACO,IAAI,IAAIP,aAAa;MACrD,MAAMQ,SAAS,GAAGP,aAAa,CAACM,IAAI,IAAIN,aAAa;MAErDT,QAAQ,CAACc,SAAS,CAAC;MACnBZ,QAAQ,CAACc,SAAS,IAAI,EAAE,CAAC;IAC3B,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZC,OAAO,CAACb,KAAK,CAAC,uBAAuB,EAAEY,GAAG,CAAC;MAC3CX,QAAQ,CAACW,GAAG,CAACE,OAAO,IAAI,sBAAsB,CAAC;IACjD,CAAC,SAAS;MACRf,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EAAE,CAACP,OAAO,CAAC,CAAC;EAEb,MAAMuB,WAAW,GAAG1B,WAAW,CAAC,MAAOoB,SAAS,IAAK;IACnDV,UAAU,CAAC,IAAI,CAAC;IAChBE,QAAQ,CAAC,IAAI,CAAC;IAEd,IAAI;MACF,MAAMe,QAAQ,GAAG,MAAM1B,UAAU,CAACyB,WAAW,CAACN,SAAS,CAAC;MACxD,MAAMQ,YAAY,GAAGD,QAAQ,CAACN,IAAI,IAAIM,QAAQ,CAAC,CAAC;MAChDrB,QAAQ,CAACsB,YAAY,CAAC;MACtB,OAAOA,YAAY;IACrB,CAAC,CAAC,OAAOL,GAAG,EAAE;MACZC,OAAO,CAACb,KAAK,CAAC,uBAAuB,EAAEY,GAAG,CAAC;MAC3CX,QAAQ,CAACW,GAAG,CAACE,OAAO,IAAI,wBAAwB,CAAC;MACjD,MAAMF,GAAG;IACX,CAAC,SAAS;MACRb,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMmB,YAAY,GAAG7B,WAAW,CAAC,MAAM;IACrCa,UAAU,CAAC,CAAC;EACd,CAAC,EAAE,CAACA,UAAU,CAAC,CAAC;EAEhBd,SAAS,CAAC,MAAM;IACdc,UAAU,CAAC,CAAC;EACd,CAAC,EAAE,CAACA,UAAU,CAAC,CAAC;EAEhB,OAAO;IACLR,KAAK;IACLE,KAAK;IACLE,OAAO;IACPE,KAAK;IACLe,WAAW;IACXG,YAAY;IACZvB,QAAQ;IACRE;EACF,CAAC;AACH,CAAC;AAACJ,EAAA,CAnEWF,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}